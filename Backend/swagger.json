{
  "swagger": "2.0",
  "info": {
    "title": "Test API with swagger",
    "version": "1.0.0",
    "description": ""
  },
  "basePath": "/api",
  "tags": [
    {
      "name": "Auth"
    },
    {
      "name": "User"
    },
    {
      "name": "Subject"
    },
    {
      "name": "Lecture"
    },
    {
      "name": "Quiz"
    },
    {
      "name": "Notice"
    },
    {
      "name": "LectureNote"
    }
  ],
  "schemes": [
    "http"
  ],
  "consumes": [],
  "produces": [],
  "paths": {
    "/auth/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "description": "",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "type": "object",
            "schema": {
              "type": "object",
              "properties": {
                "email": {
                  "type": "string",
                  "example": "kkimbj18@ajou.ac.kr"
                }
              },
              "required": [
                "email"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "로그인 성공 시, success, userExist, session 객체 반환  \n로그인 실패 시, success: false, userExist: false 반환"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/auth/signup": {
      "post": {
        "tags": [
          "Auth"
        ],
        "description": "",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "type": "object",
            "schema": {
              "$ref": "#/definitions/signUp"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공적으로 회원가입 성공시 success"
          },
          "201": {
            "description": "Created"
          },
          "400": {
            "description": "Bad Request"
          },
          "409": {
            "description": "유저가 이미 존재할 때 userExist, success: false"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/auth/logout": {
      "get": {
        "tags": [
          "Auth"
        ],
        "description": "",
        "parameters": [],
        "responses": {
          "200": {
            "description": "  성공적으로 로그아웃 성공 시, success 반환  \n로그인 상태 아닐 시, success: false, isLogined: false 반환"
          }
        }
      }
    },
    "/": {
      "get": {
        "tags": [],
        "description": "",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/user/get/current": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/user/get/professor": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/user/get/student": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/subject/create": {
      "post": {
        "tags": [
          "Subject"
        ],
        "description": "",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "type": "object",
            "description": "time과 days는 배열, days는 0~6까지 일요일부터 토요일을 의미",
            "schema": {
              "$ref": "#/definitions/createSubject"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공시 success, code 반환"
          },
          "201": {
            "description": "Created"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "403": {
            "description": "type이 professor가 아닌 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/subject/join": {
      "put": {
        "tags": [
          "Subject"
        ],
        "description": "",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "type": "object",
            "description": "참여코드 입력",
            "schema": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "string",
                  "example": ""
                }
              },
              "required": [
                "code"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공시 success, subject 객체 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "404": {
            "description": "해당하는 코드의 강의가 없을 시, success: false, codeValidation: false 반환"
          },
          "409": {
            "description": "이미 참여한 수업일 경우, success: false, subjectExist 반환"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/subject/info/{id}": {
      "get": {
        "tags": [
          "Subject"
        ],
        "description": "",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "성공 시, success, 해당 강의를 subject로 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "403": {
            "description": "type이 professor가 아닌 경우"
          },
          "404": {
            "description": "해당 subject가 존재하지 않으면, success: false, existSubject: false 반환"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/subject/info/update/{id}": {
      "put": {
        "tags": [
          "Subject"
        ],
        "description": "",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "obj",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "any"
                },
                "start_period": {
                  "type": "string",
                  "example": "any"
                },
                "end_period": {
                  "type": "string",
                  "example": "any"
                },
                "start_time": {
                  "type": "string",
                  "example": "any"
                },
                "end_time": {
                  "type": "string",
                  "example": "any"
                },
                "days": {
                  "type": "string",
                  "example": "any"
                },
                "introURL": {
                  "type": "string",
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공 시, success, subject 객체 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "403": {
            "description": "type이 professor가 아닌 경우,  \n해당 과목을 만든 본인이 아닐 경우, success: false, isValidProfessor: false 반환"
          },
          "404": {
            "description": "success: false, existSubject: false 반환"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/subject/get/mySubjects": {
      "get": {
        "tags": [
          "Subject"
        ],
        "description": "",
        "parameters": [],
        "responses": {
          "200": {
            "description": "성공 시, 본인이 수강하고 있는 강의들을 subjects로 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/subject/get/upcoming": {
      "get": {
        "tags": [
          "Subject"
        ],
        "description": "현재 수업 중인 강의, 또는 곧 있을 강의 \n 얼마나 지났는 지, 또는 해당 강의까지 남은 시간 반환",
        "parameters": [],
        "responses": {
          "200": {
            "description": "현재 진행중인 수업이 있을 경우, inProgress, subject: subjectId, diffH, diffM 반환  \n오늘 내에 강의가 있을 경우, upcoming, subject: subjectId, diffH, diffM 반환  \n오늘 내에 강의가 없을 경우, upcoming: false 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/lecture/start": {
      "post": {
        "tags": [
          "Lecture"
        ],
        "description": "",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "type": "object",
            "description": "subjectId, 옵션만 지정하면 나머지는 기본 값으로 할당되어 저장됨",
            "schema": {
              "type": "object",
              "properties": {
                "subjectId": {
                  "type": "number",
                  "example": 0
                },
                "options": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "subtitle": {
                        "type": "boolean",
                        "example": false
                      },
                      "record": {
                        "type": "boolean",
                        "example": false
                      },
                      "attendance": {
                        "type": "boolean",
                        "example": false
                      },
                      "limit": {
                        "type": "number",
                        "example": 5
                      }
                    },
                    "required": [
                      "subtitle",
                      "record",
                      "attendance",
                      "limit"
                    ]
                  }
                }
              },
              "required": [
                "subjectId",
                "options"
              ]
            }
          }
        ],
        "responses": {
          "201": {
            "description": "success, lecture 객체 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "403": {
            "description": "type이 professor가 아닌 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/lecture/close": {
      "put": {
        "tags": [
          "Lecture"
        ],
        "description": "",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "type": "object",
            "schema": {
              "$ref": "#/definitions/closeLecture"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success, lecture 객체 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "403": {
            "description": "type이 professor가 아닌 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/lecture/get/inProgress": {
      "put": {
        "tags": [
          "Lecture"
        ],
        "description": "현재 진행중인 수업이 있으면 어떤 수업이든 받아오기",
        "parameters": [],
        "responses": {
          "200": {
            "description": "진행중인 수업이 있으면, success, existInProgressLecture, lectures 배열 반환,  \n없으면, success: false, existInProgressLecture: false 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/lecture/get/inProgress/subject/{id}": {
      "get": {
        "tags": [
          "Lecture"
        ],
        "description": "",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "obj",
            "in": "body",
            "type": "object",
            "schema": {
              "type": "object",
              "properties": {
                "subjectId": {
                  "type": "number",
                  "example": 0
                }
              },
              "required": [
                "subjectId"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "현재 진행중인 수업이 있을 경우, existInProgressLecture, lecture 객체 반환  \n없을 경우, existInProgressLecture: false 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/lecture/join/{id}": {
      "put": {
        "tags": [
          "Lecture"
        ],
        "description": "lectureId로 수업 참가",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "진행중인 수업이 있으면, existLecture, lecture 객체 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "404": {
            "description": "해당하는 lectureId의 lecture가 존재하지 않음"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/quiz/create": {
      "post": {
        "tags": [
          "Quiz"
        ],
        "description": "status는 pending/open/done으로 나뉨",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "type": "object",
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "중간점검 OX"
                },
                "subjectId": {
                  "type": "number",
                  "example": 0
                },
                "answerSheets": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "question": {
                        "type": "string",
                        "example": "배고파?"
                      },
                      "answer": {
                        "type": "string",
                        "example": "웅"
                      }
                    },
                    "required": [
                      "question",
                      "answer"
                    ]
                  }
                },
                "status": {
                  "type": "string",
                  "example": "pending"
                },
                "type": {
                  "type": "string",
                  "example": "ox"
                }
              },
              "required": [
                "name",
                "subjectId",
                "answerSheets",
                "status",
                "type"
              ]
            }
          }
        ],
        "responses": {
          "201": {
            "description": "success, quiz 객체 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "403": {
            "description": "type이 professor가 아닌 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/quiz/get/subject/{id}": {
      "get": {
        "tags": [
          "Quiz"
        ],
        "description": "status는 pending/open/done으로 나뉨",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "201": {
            "description": "success, quizzes 객체 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "403": {
            "description": "type이 professor가 아닌 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/quiz/get/student/subject/{id}": {
      "get": {
        "tags": [
          "Quiz"
        ],
        "description": "status는 pending/open/done으로 나뉨",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "201": {
            "description": "success, quizzes 객체 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/quiz/get/{id}": {
      "get": {
        "tags": [
          "Quiz"
        ],
        "description": "status는 pending/open/done으로 나뉨",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "success, quiz 객체 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "403": {
            "description": "type이 professor가 아닌 경우"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/quiz/get/student/{id}": {
      "get": {
        "tags": [
          "Quiz"
        ],
        "description": "status는 pending/open/done으로 나뉨",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "success, quiz 객체 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/quiz/open": {
      "put": {
        "tags": [
          "Quiz"
        ],
        "description": "status는 pending/open/done으로 나뉨",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "example": "any"
                },
                "deadLine": {
                  "type": "string",
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success, quiz 객체 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "403": {
            "description": "type이 professor가 아닌 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/quiz/close": {
      "put": {
        "tags": [
          "Quiz"
        ],
        "description": "status는 pending/open/done으로 나뉨",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success, quiz 객체 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "403": {
            "description": "type이 professor가 아닌 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/quiz/submit": {
      "put": {
        "tags": [
          "Quiz"
        ],
        "description": "status는 pending/open/done으로 나뉨",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "example": "any"
                },
                "response": {
                  "type": "string",
                  "example": "any"
                },
                "studentId": {
                  "type": "string",
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success, quiz 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "409": {
            "description": "quiz의 deadLine이 지났을 경우 success: false, isOver 반환"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/lectureNote/get/subject/{id}": {
      "get": {
        "tags": [
          "LectureNote"
        ],
        "description": "",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "success, lectureNotes 객체 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/lectureNote/get/{id}": {
      "get": {
        "tags": [
          "LectureNote"
        ],
        "description": "",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "success, lectureNote 객체 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "404": {
            "description": "해당하는 강의노트가 존재하지 않을 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/lectureNote/create": {
      "post": {
        "tags": [
          "LectureNote"
        ],
        "description": "",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "subject": {
                  "type": "string",
                  "example": "any"
                },
                "title": {
                  "type": "string",
                  "example": "any"
                },
                "content": {
                  "type": "string",
                  "example": "any"
                },
                "fileURL": {
                  "type": "string",
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success, lectureNote 객체 반환"
          },
          "201": {
            "description": "Created"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "403": {
            "description": "type이 professor가 아닌 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/notice/get/all": {
      "get": {
        "tags": [
          "Notice"
        ],
        "description": "",
        "parameters": [],
        "responses": {
          "200": {
            "description": "success, notices 객체 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/notice/get/student/{id}": {
      "get": {
        "tags": [
          "Notice"
        ],
        "description": "",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "success, notices 객체 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/notice/get/{id}": {
      "get": {
        "tags": [
          "Notice"
        ],
        "description": "status는 pending/open/done으로 나뉨",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "success, notice 객체 반환"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "404": {
            "description": "해당하는 공지가 존재하지 않을 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/notice/create": {
      "post": {
        "tags": [
          "Notice"
        ],
        "description": "",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "subject": {
                  "type": "string",
                  "example": "any"
                },
                "title": {
                  "type": "string",
                  "example": "any"
                },
                "content": {
                  "type": "string",
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success, notice 객체 반환"
          },
          "201": {
            "description": "Created"
          },
          "401": {
            "description": "user가 로그인이 되지 않은 경우"
          },
          "403": {
            "description": "type이 professor가 아닌 경우"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    }
  },
  "definitions": {
    "signUp": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "example": "kkimbj18@ajou.ac.kr"
        },
        "name": {
          "type": "string",
          "example": "김민건"
        },
        "photourl": {
          "type": "string",
          "example": "url"
        },
        "identityID": {
          "type": "string",
          "example": "201620912"
        },
        "school": {
          "type": "string",
          "example": "아주대"
        },
        "major": {
          "type": "string",
          "example": "소프트웨어학과"
        },
        "grade": {
          "type": "number",
          "example": 4
        },
        "type": {
          "type": "string",
          "example": "student"
        }
      },
      "required": [
        "email",
        "name",
        "identityID",
        "school",
        "major",
        "type"
      ]
    },
    "createSubject": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "example": "캡스톤디자인"
        },
        "start_period": {
          "type": "string",
          "example": "2021-03-02"
        },
        "end_period": {
          "type": "string",
          "example": "2021-06-30"
        },
        "start_time": {
          "type": "array",
          "example": [
            "16:30",
            "18:00",
            "19:30"
          ],
          "items": {
            "type": "string"
          }
        },
        "end_time": {
          "type": "array",
          "example": [
            "18:00",
            "19:30",
            "21:00"
          ],
          "items": {
            "type": "string"
          }
        },
        "days": {
          "type": "array",
          "example": [
            1,
            1,
            1
          ],
          "items": {
            "type": "number"
          }
        }
      }
    },
    "closeLecture": {
      "type": "object",
      "properties": {
        "question": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "lecture": {
                "type": "number",
                "example": 0
              },
              "questioner": {
                "type": "string",
                "example": "김민건"
              },
              "questionContent": {
                "type": "string",
                "example": "아 몰랑 안해"
              },
              "answers": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "respondent": {
                      "type": "string",
                      "example": "최민우"
                    },
                    "content": {
                      "type": "string",
                      "example": "아 나도 몰랑 안해"
                    }
                  }
                }
              }
            }
          }
        },
        "lectureId": {
          "type": "number",
          "example": 0
        }
      }
    }
  }
}